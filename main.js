(()=>{"use strict";const e=document.querySelector(".new-to-do-button"),t=document.querySelector(".new-list-button"),n=document.querySelector(".new-to-do-form"),l=document.querySelector(".title-input"),i=document.querySelector(".description-input"),d=document.querySelector(".due-date-input"),a=document.querySelector(".priority-input"),s=document.querySelector(".list-menu"),c=document.querySelector(".add-to-do-button"),r=document.querySelector(".cancel-to-do-button"),o=document.querySelector(".new-list-form"),p=document.querySelector(".list-name-input"),u=document.querySelector(".add-list-button"),m=document.querySelector(".cancel-list-button"),y=document.querySelector(".list-button-div"),v=document.getElementById("default-list"),x=document.getElementById("other-list"),f=document.querySelector(".project-div"),h={default:[],other:[]};function N(){f.id=this.className.replaceAll(" ","-");const e=Array.from(f.childNodes);for(let t=0;t<e.length;t++)e[t].className===f.id?e[t].style.display="flex":e[t].style.display="none";!function(){const e=Array.from(y.childNodes);for(let t=0;t<e.length;t++)e[t].className===f.id?e[t].style.border="2px solid red":e[t].style.border="2px solid black"}()}function T(){const e=Object.keys(h);let t="";return e.forEach((e=>{e===s.value&&(t=e)})),t}function E(){this.id.includes("-expanded")||"flex"!==this.style.display||(this.style.display="none",this.nextSibling.style.display="flex"),this.id.includes("-expanded")&&"flex"===this.style.display&&(this.style.display="none",this.previousSibling.style.display="flex")}function g(e){e.stopPropagation()}function b(e,t,n,l,i,d){const s=t,c=n,r=l,o=i,p=d;c.className="title-div",r.className="date-div",o.className="priority-div",p.className="description-div";for(let t=0;t<h[e].length;t++)c.innerText=h[e][h[e].length-1].title,""===h[e][h[e].length-1].dueDate?r.innerText="no due date":r.innerText=h[e][h[e].length-1].dueDate,""===h[e][h[e].length-1].description?p.innerText="no description":p.innerText=h[e][h[e].length-1].description,f.appendChild(s),s.appendChild(c),s.appendChild(p),s.appendChild(r),a.checked?o.innerText="important":o.innerText="",s.appendChild(o),s.addEventListener("click",E)}e.addEventListener("click",(function(){n.reset(),e.style.display="none",t.style.display="none",n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="flex-start",n.style.gap="10px"})),t.addEventListener("click",(function(){o.reset(),e.style.display="none",t.style.display="none",o.style.display="flex",o.style.display="flex",o.style.flexDirection="column",o.style.alignItems="flex-start",o.style.gap="10px"})),c.addEventListener("click",(function(c){if(""!==l.value){c.preventDefault();const r=T();h[r].push({title:l.value,description:i.value.replaceAll("\n"," "),dueDate:d.value,priority:a.checked,list:s.value}),n.style.display="none",e.style.display="flex",t.style.display="flex",function(e){const t=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div");t.className=`${s.value}`.replaceAll(" ","-"),t.style.display="flex",t.style.justifyContent="space-between",t.style.gap="10px",t.style.padding="5px",l.style.display="none";for(let n=0;n<h[e].length;n++)t.id=`${h[e][h[e].length-1].title}`.replaceAll(" ","-");b(e,t,n,i,d,l),f.id===e?t.style.display="flex":t.style.display="none"}(r),function(e){const t=document.createElement("div"),n=document.createElement("div"),l=document.createElement("div"),i=document.createElement("div"),d=document.createElement("div"),a=document.createElement("button");t.className=`${s.value}-expanded`.replaceAll(" ","-"),t.style.display="flex",t.style.flexDirection="column",t.style.gap="10px",t.style.padding="5px",a.innerText="edit",a.className="edit-button",a.style.alignSelf="flex-end",t.style.display="none";for(let n=0;n<h[e].length;n++)t.id=`${h[e][h[e].length-1].title}-expanded`.replaceAll(" ","-");b(e,t,n,i,d,l),t.appendChild(a),a.addEventListener("click",(e=>function(e,t){g(e);const n=t,l=document.createElement("div"),i=document.createElement("input"),d=document.createElement("div"),a=document.createElement("textarea"),s=document.createElement("input"),c=document.createElement("input"),r=document.createElement("div"),o=document.createElement("button"),p=document.createElement("button");i.type="text",a.style.resize="none",a.cols="20",a.rows="5",s.type="date",c.type="checkbox",o.className="done-button",o.innerText="done",o.style.alignSelf="flex-end",p.className="cancel-edit-button",p.innerText="cancel",p.style.alignSelf="flex-end",n.appendChild(o),n.appendChild(p);const u=Array.from(n.childNodes);for(let e=0;e<u.length;e++)"edit-button"===u[e].className&&(u[e].style.display="none"),"title-div"===u[e].className&&(i.addEventListener("click",g),i.value=u[e].innerText,i.id=`${u[e].innerText}-edit`.replaceAll(" ","-"),u[e].innerText="",l.id=`${i.id}-label`,l.innerText="title",u[e].appendChild(l),u[e].appendChild(i)),"description-div"===u[e].className&&(a.addEventListener("click",g),"no description"===u[e].innerText?a.innerText="":a.innerText=u[e].innerText.replaceAll("\n"," "),a.id=`${n.id.replace("-expanded","")}-description-edit`.replaceAll(" ","-"),u[e].innerText="",d.id=`${a.id}-label`,d.innerText="description",u[e].appendChild(d),u[e].appendChild(a)),"date-div"===u[e].className&&("no due date"!==u[e].innerText&&(s.value=u[e].innerText),s.addEventListener("click",g),s.id=`${n.id.replace("-expanded","")}-date-edit`.replaceAll(" ","-"),u[e].innerText="",u[e].appendChild(s)),"priority-div"===u[e].className&&("important"===u[e].innerText&&(c.checked=!0),c.addEventListener("click",g),c.id=`${n.id.replace("-expanded","")}-priority-edit`.replaceAll(" ","-"),u[e].style.display="flex",u[e].style.gap="5px",u[e].innerText="",r.id=`${c.id}-label`,r.innerText="important",u[e].appendChild(c),u[e].appendChild(r));o.addEventListener("click",(e=>function(e,t,n,l,i,d,a,s,c){g(e);const r=t,o=n,p=l,u=i,m=d,y=a,v=s,x=c,N=o.id.replace("-edit",""),E=T(),b=Array.from(f.childNodes),k=Array.from(r.previousSibling.childNodes),S=Array.from(r.childNodes);for(let e=0;e<h[E].length;e++)h[E][e].title===N&&(h[E][e].title=o.value,h[E][e].description=p.value.replaceAll("\n"," "),h[E][e].dueDate=u.value,h[E][e].priority=m.checked);for(let e=0;e<b.length;e++)b[e].id===N&&(b[e].id=o.value),b[e].id===`${N}-expanded`&&(b[e].id=`${o.value}-expanded`);for(let e=0;e<k.length;e++)"title-div"===k[e].className&&(k[e].innerText=o.value),"description-div"===k[e].className&&(""===p.value?k[e].innerText="no description":k[e].innerText=p.value),"date-div"===k[e].className&&(""===u.value?k[e].innerText="no due date":k[e].innerText=u.value),"priority-div"===k[e].className&&(m.checked?k[e].innerText="important":k[e].innerText="");for(let e=0;e<S.length;e++)"done-button"===S[e].className&&S[e].remove(),"cancel-edit-button"===S[e].className&&S[e].remove(),"edit-button"===S[e].className&&(S[e].style.display="flex"),"title-div"===S[e].className&&(S[e].innerText=o.value,y.remove(),o.remove()),"description-div"===S[e].className&&(""===p.value?S[e].innerText="no description":S[e].innerText=p.value,v.remove(),p.remove()),"date-div"===S[e].className&&(""===u.value?S[e].innerText="no due date":S[e].innerText=u.value,u.remove()),"priority-div"===S[e].className&&(m.checked?S[e].innerText="important":S[e].innerText="",m.remove(),x.remove())}(e,n,i,a,s,c,l,d,r))),p.addEventListener("click",(e=>function(e,t,n,l,i,d,a,s,c){g(e);const r=t,o=n,p=l,u=i,m=d,y=a,v=s,x=c,f=Array.from(r.previousSibling.childNodes);let h,N,T,E;const b=Array.from(r.childNodes);for(let e=0;e<f.length;e++)"title-div"===f[e].className&&(h=f[e].innerText),"description-div"===f[e].className&&(N=f[e].innerText),"date-div"===f[e].className&&(T=f[e].textContent),"priority-div"===f[e].className&&(E=f[e].textContent);for(let e=0;e<b.length;e++)"done-button"===b[e].className&&b[e].remove(),"cancel-edit-button"===b[e].className&&b[e].remove(),"edit-button"===b[e].className&&(b[e].style.display="flex"),"title-div"===b[e].className&&(b[e].innerText=h,y.remove(),o.remove()),"description-div"===b[e].className&&(b[e].innerText=N,v.remove(),p.remove()),"date-div"===b[e].className&&(b[e].innerText=T,u.remove()),"priority-div"===b[e].className&&(b[e].innerText=E,m.remove(),x.remove())}(e,n,i,a,s,c,l,d,r)))}(e,t)))}(r)}})),u.addEventListener("click",(function(n){n.preventDefault(),h[p.value]=[];const l=document.createElement("option");l.value=p.value,l.innerText=p.value,s.appendChild(l);const i=document.createElement("button");i.className=`${p.value}`.replaceAll(" ","-"),i.id=`${p.value}-list`.replaceAll(" ","-"),i.innerText=p.value,y.appendChild(i),i.addEventListener("click",N),o.style.display="none",e.style.display="flex",t.style.display="flex"})),r.addEventListener("click",(function(){e.style.display="flex",t.style.display="flex",n.style.display="none"})),m.addEventListener("click",(function(){e.style.display="flex",t.style.display="flex",o.style.display="none"})),v.addEventListener("click",N),x.addEventListener("click",N)})();